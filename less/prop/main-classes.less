// Global classes
// ------------------------------------

// Site branding
// ---------------------------
.branding {
  display: block;
  svg {
    fill: #fff;
    max-width: 150px;
    max-height: 15px;
  }
  @media (min-width:@breakpoint-md) {
    .font-size(@font-size-base);
    svg {
      fill: #222;
    }
    &.md {
      svg {
        max-width: 200px;
        max-height: 20px;
      }
    }
    &.lg {
      svg {
        max-width: 250px;
        max-height: 25px;
      }
    }
    &.xl {
      svg {
        max-width: 275px;
        max-height: 28px;
      }
    }
  }
  &.sm {
    svg {
      max-width: 150px;
      max-height: 15px;
    }
  }
}

// Social sharing tools
// ---------------------------

.share-widget {
  &:extend(.list-inline all);
  li {
    padding: 0;
  }
  .fc-webicon {
    margin-bottom:0;
  }
}
.share-toolbar {
  &:extend(.clearfix all);
  margin-bottom: @line-height-computed;
  li {
    display: inline;
    float: left;
    .square(32px);
    margin-right: .3em;
    a {
      display: block;
      .square(32px);
      text-align: center;
      .border-radius(@border-radius-base);
      &:hover {
        .opacity(.7);
        text-decoration: none;
      }
      &.glyphicon,
      &.text {
        .font-size(20px);
        border: 1px solid darken(@gray-lighter, 10%);
        line-height: 32px;
        background: @gray-lighter;
      }
    }
  }
  @media (min-width: @breakpoint-lg) {
    margin: 0;
    width: 42px;
    position: absolute;
    top: 0;
    left: -60px;
    border: 5px solid #fff;
    .box-shadow(0px 0 3px rgba(0,0,0,.2));
    li {
      margin: 0;
      margin-top: -1px;
      display: block;
      float: none;
      a {
        border-radius: 0;
      }
    }
  }
}

.has-supporting-content {
  .share-toolbar {
    @media (min-width: @breakpoint-lg) {
      left: -210px;
    }
    @media (min-width: @breakpoint-xl) {
      left: -252px;
    }
    @media (min-width: 1230px) {
      left: -280px;
    }
  }
}

.share-modal {
  .modal-dialog {
    width: 290px;
  }
  .webicon {
    border-radius: 0;
  }
  ul {
    width: 100%;
    li {
      border-bottom: @border;
      a {
        display: block;
        .user-select(none);
        height: 32px;
        padding-left: 10px;
        background: @gray-lightest;
        .font-size(16px);
        line-height: 32px;
        font-family: @font-family-treb;
        font-weight: @font-weight-heavy;
        color: @text-color;
        &:hover {
          .opacity(.5);
          text-decoration: none;
        }
        span {
          float: right;
          margin-bottom: 0!important;
        }
      }
    }
  }
}

// Meta and referral classes
// ---------------------------
.excerpt {
  font-family: @font-family-serif;
  .font-size(16px);
}
.meta {
  &:extend(.clearfix all);
  .timestamp,
  .source {
    float: left;
  }
  .source {
    font-family: @font-family-sans-serif;
    font-weight: @font-weight-light;
    .font-size(12px);
    .timestamp {
      float: none;
    }
  }
  .comment-bug {
    float: right;
  }
}
.timestamp {
  font-family: @font-family-sans-serif;
  .font-size(10px);
  color: @gray;
  text-transform: uppercase;
  word-break: keep-all;
  margin-bottom: 0;
}
.comment-bug {
  font-size: 10px;
  line-height: 1;
  font-weight: @font-weight-heavy;
  margin-bottom: 0;
  .glyphicon {
    color: lighten(@gray, 10%);
    font-size: @comment-bug-width;
    margin-top: -20%;
  }
  a {
    display: block;
    position: absolute;
    top: 0;
    .size(@comment-bug-width, (@comment-bug-width * .5));
    line-height: @comment-bug-width * .5;
    text-align: center;
    color: #f3f3f3;
    &:hover {
      color: #fff;
      text-decoration: none;
    }
  }
}

// Lists of links
// --------------------------
.link-list {
  font-family: @font-family-treb;
  font-weight: @font-weight-heavy;
  ul {
    border-bottom: @border;
    > li {
      > a {
        display: block;
        padding: @padding-base-horizontal 0;
        line-height: 1.4;
        color: @gray-dark;
        border-top: @border;
        &:hover,
        strong {
          color: @gray-darker;
        }  
        &:hover {
          #gradient > .vertical(@start-color:lighten(@brand-primary, 60%); @end-color: #fff);
          text-decoration: none;
          padding-left: 5px;
          border-top: @border-blue;
        }
      }
    }
  }
  &.no-anim {
    ul {
      > li {
      > a {
          &:hover {
            padding-left: 0;
          }
        }
      }
    }
  }
  .more {
    font-weight: @font-weight-bold;
    color: @link-color;
  }
  .timestamp {
    font-weight: @font-weight-base;
  }
}

// eliminate animations for touch devices
.touch {
  .link-list {
    ul {
      > li {
        > a {
          &:hover {
             padding-left: 0;
          }
        }
      }
    }
  }
}

.story-feed {
  margin-bottom: @line-height-computed;
  h3, .h3 {
    font-family: @font-family-treb;
  }
  h4, .h4 {
    margin: 0 0 (@line-height-computed / 2);
  }
  img {
    margin-bottom: (@line-height-computed / 2);
  }
  .topic-header {
    .font-size(24px);
  }
  ul {
    > li {
      margin-bottom: (@line-height-computed / 2);
      h3, .h3 {
        margin-top: 0;
        margin-bottom: (@line-height-computed / 4);
      }
      h3 + .meta,
      .h3 + .meta {
        margin-bottom: 0;
      }
    }
  }
  &.sm {
    @media (min-width: @breakpoint-md) {
      h3, .h3 {
        .font-size(14px);
      }
      h5, .h5 {
        margin-bottom: 0;
      }
    }
  }
  &.lg {
    li {
      margin-bottom: @line-height-computed;
    }
    @media (min-width:@breakpoint-md) {
      h3, .h3 {
        .font-size(18px);
      }
    }  
  }
}

.story-feed.lg,
.centerpiece {
  .meta {
    border: @border;
    border-width: 1px 0;
    padding: (@line-height-computed / 4) 0;
    p {
      margin: 0;
    }
    .comment-bug a {
      top: (@line-height-computed / 4);
    }
  }
}

.topic-header {
  .font-size(24px);
  line-height: 1.5;
  margin: 0 0 @line-height-computed;
  border-top: @fat-gray-border;
  border-bottom: @border;
  @media(min-width: @breakpoint-md) {
    .font-size(30px);
  }
}
.section-promo {
  margin-bottom: @line-height-computed;
  .topic-header {
    border-top: 0;
  }
}